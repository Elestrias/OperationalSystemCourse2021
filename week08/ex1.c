#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>

int main() {
    for(int i = 0; i<10; i++) {
        void *what = malloc(10 * 1024 * 1024);
        memset(what, 0, 10 * 1024 * 1024);
        sleep(1);
    }
}
// EX2:
// vm_stat output, comments are below the output
/*   free   active   specul inactive throttle    wired  prgable   faults     copy    0fill reactive   purged file-backed anonymous cmprssed cmprssor  dcomprs   comprs  pageins  pageout  swapins swapouts
   82794  1534475     6461  1532481        0   661597   259779 43252500  2092105 33834046  1200541   756091      865498   2207919   819833   376018   291294  1338281  1825960    12174        0        0
ex2.sh: line 1: .a.out: command not found
   83003  1542128     6461  1535175        0   651106   270223       72        1       46        0        0      865498   2218266   819833   376018        0        0        0        0        0        0
   82773  1589694     6461  1535166        0   603580   267614       43        0       36        0        0      865498   2265823   819833   376018        0        0        0        0        0        0
   83129  1589017     6461  1535529        0   603580   267281       44        0       42        0        0      865498   2265509   819833   376018        0        0        0        0        0        0
   83145  1588969     6461  1535561        0   603580   267281        1        0        0        0        0      865498   2265493   819833   376018        0        0        0        0        0        0
   83227  1588799     6461  1535693        0   603580   267278      260        0       42        0        0      865498   2265452   819833   376018        0        0        0        0        0        0
   83305  1588647     6461  1535788        0   603580   267278       21        0       20        0        0      865498   2265398   819833   376018        0        0        0        0        0        0
   83379  1588544     6462  1535843        0   603580   267278       27        0       26        0        0      865498   2265351   819833   376018        0        0        0        0        0        0
   72097  1537938     6514  1531392        0   669879   255848    11008        0     4897        0        0      865551   2210293   819808   375986       25        0        0        0        0        0
   81112  1539574     6514  1532465        0   658145   266230     5096        0      194        0        0      865678   2212875   819808   375986        0        0      127        0        0        0
   81717  1539130     6585  1532150        0   658272   265749     2539        1     2103        0        0      865749   2212116   819806   375986        2        0        0        0        0        0
   81614  1528058     6585  1531199        0   670323   254189      164        0      157        0        1      865749   2200093   819806   375986        0        0        0        0        0        0
   84274  1528089     6587  1528884        0   670000   254272       64        0       53        0        0      865751   2197809   819806   375986        0        0        0        0        0        0
   84322  1528489     6587  1528873        0   669583   254668       21        0       20        0        0      865751   2198198   819806   375986        0        0        0        0        0        0
   84341  1529157     6587  1528861        0   668911   255340        1        0        0        0        0      865751   2198854   819806   375986        0        0        0        0        0        0
   84652  1529028     6587  1528693        0   668911   255340       16        0       13        0        0      865751   2198557   819806   375986        0        0        0        0        0        0
   85207  1529864     6587  1528567        0   667660   255743      918        0      910        0        0      865751   2199267   819806   375986        0        0        0        0        0        0
   85104  1529868     6588  1528567        0   667660   255743       27        0       26        0        0      865751   2199272   819806   375986        0        0        0        0        0        0
   85165  1529965     6587  1528520        0   667660   255728     1521        0     1518        0        0      865751   2199321   819806   375986        0        0        0        0        0        0
   85118  1529934     6587  1528512        0   667659   255647       46        0       41        0        0      865751   2199282   819806   375986        0        0        0        0        0        0
   85032  1529924     6587  1528505        0   667659   255647       26        0       22        0        0      865751   2199265   819806   375986        0        0        0        0        0        0
Mach Virtual Memory Statistics: (page size of 4096 bytes)
 si = so = 0, so nothing was swapped.
 That have happned because modern operating systems are smart enough
 to clear its memory by itself, so the is no need to swap.
 */


/* EX3:
 *
 *
 *
PID   COMMAND      %CPU TIME     #TH   #WQ  #PORT      MEM       PURG   CMPRS PGRP PPID STATE    BOOSTS          %CPU_ME %CPU_OTHRS UID  FAULTS   COW    MSGSENT   MSGRECV
4653  ex2              0.0  00:00.00 1     0   1      8192B 0B    0B    4646 4646 sleeping *0[1]      0.00000 0.00000    501 153     44     13       5        17       17       2        0       0       0.0   0      0      elestrias              N/A    N/A   N/A   N/A   N/A   N/A
4653  ex2              0.5  00:00.00 1     0   10+    10M+   0B     0B    4646 4646 sleeping *0[1]      0.00000 0.00000    501 2912+    80+    31+       14+       108+      56+       61+       0       0        0.5   12963681  22871552  elestrias              N/A    N/A   N/A   N/A   N/A   N/A
4653  ex2              1.0  00:00.02 1     0   10     20M+   0B     0B    4646 4646 sleeping *0[1]      0.00000 0.00000    501 5472+    80     33+       15+       109+      58+       62+       0       1+       1.0   8105919   13384708  elestrias              N/A    N/A   N/A   N/A   N/A   N/A
4653  ex2              1.0  00:00.03 1     0   10     30M+   0B     0B    4646 4646 sleeping *0[1]      0.00000 0.00000    501 8032+    80     35+       16+       110+      60+       63+       0       2+       1.0   8121906   13497969  elestrias              N/A    N/A   N/A   N/A   N/A   N/A
4653  ex2              1.0  00:00.04 1     0   10     40M+   0B     0B    4646 4646 sleeping *0[1]      0.00000 0.00000    501 10592+   80     37+       17+       111+      62+       65+       0       3+       1.0   8231814   13920308  elestrias              N/A    N/A   N/A   N/A   N/A   N/A
4653  ex2              1.0  00:00.05 1     0   10     50M+   0B     0B    4646 4646 sleeping *0[1]      0.00000 0.00000    501 13152+   80     39+       18+       112+      64+       67+       0       4+       1.0   8054302   13570922  elestrias              N/A    N/A   N/A   N/A   N/A   N/A
4653  ex2              1.0  00:00.06 1     0   10     60M+   0B     0B     4646 4646 sleeping *0[1]       0.00000 0.00000    501 15712+   80     41+       19+       113+      66+       69+       0       5+       1.0   8208287   13233189  elestrias              N/A    N/A   N/A   N/A   N/A   N/A
4653  ex2              1.0  00:00.08 1     0   10     70M+   0B     0B     4646 4646 sleeping *0[1]       0.00000 0.00000    501 18272+   80     43+       20+       114+      68+       70+       0       6+       1.1   8253194   14232858  elestrias              N/A    N/A   N/A   N/A   N/A   N/A
4653  ex2              0.3  00:00.08 1     0   10     80M+   0B     0B     4646 4646 sleeping *0[1]       0.00000 0.00000    501 20832+   80     45+       21+       115+      70+       72+       0       6        0.3   8064533   14484673  elestrias              N/A    N/A   N/A   N/A   N/A   N/A
4653  ex2              1.0  00:00.09 1     0   10     90M+   0B     0B     4646 4646 sleeping *0[1]       0.00000 0.00000    501 23392+   80     47+       22+       116+      72+       73+       0       6        1.0   8031186   13512754  elestrias              N/A    N/A   N/A   N/A   N/A   N/A
4653  ex2              0.9  00:00.10 1     0   10     100M+  0B     0B     4646 4646 sleeping *0[1]       0.00000 0.00000    501 25952+   80     49+       23+       117+      74+       84+       0       7+       0.9   8290433   15434275  elestrias              N/A    N/A   N/A   N/A   N/A   N/A

 As we can see, progarm allocates new 10 MB of memory each second and top just trying to keep up with updates that appears
 */